- !policy
  id: test-secretless-app-mysql-db
  owner: !group secrets_admin
  annotations:
    description: This policy contains the creds to access the secretless app DB

  body:
    - &secretless-mysql-variables
      - !variable password
      - !variable url
      - !variable port
      - !variable host
      - !variable username

    - !permit
      role: !layer /test-app
      privileges: [ read, execute ]
      resources: *secretless-mysql-variables

- !policy
  id: test-secretless-app-postgresql-db
  owner: !group secrets_admin
  annotations:
    description: This policy contains the creds to access the secretless app DB

  body:
    - &secretless-postgresql-variables
      - !variable password
      - !variable url
      - !variable port
      - !variable host
      - !variable username

    - !permit
      role: !layer /test-app
      privileges: [ read, execute ]
      resources: *secretless-postgresql-variables
